# Вклад в развитие Aeon

Будучи форком Monero, Aeon разделяет большую часть своей кодовой базы с Monero, делая при этом несколько критических модификаций, так что он может предложить уникальную альтернативу Monero. Кодовая база намеренно хранится близко к Monero, чтобы извлечь выгоду из более высокой надежности кода, благодаря более широкому источнику экспертного анализа, доступному в Monero.

## Внесение изменений upstream

Вышеуказанная цель достигается за счет постоянных усилий по объединению улучшений. Любому, кто обладает достаточными знаниями, рекомендуется внести свой вклад в эти усилия. Для обеспечения согласованности изменений (что значительно облегчает новым разработчикам навигацию по журналу коммитов и перекрестным ссылкам между двумя репозиториями), а также для корректного указания автора оригинала, пожалуйста, используйте команду `git cherry-pick`.

Также настоятельно рекомендуется пофиксить первую строку коммит-сообщения с соответствующим номером запроса, чтобы можно было легко сослаться на оригинальный Monero пулл реквест. Например, если вы хотите объединить предыдущий пулл реквест 4356, который имеет два коммита со следующими коммит-сообщениями:

    Docker android: use common prefix
    Docker android: add libsodium

затем, сделайте соответствующие коммит-сообщения следующим образом:

    Docker android: use common prefix /monero#4356
    Docker android: add libsodium /monero#4356

Обратите внимание, что постфикс добавляется в первую строку каждого коммит-сообщения. Также, пожалуйста, приложите разумные усилия, чтобы порядок слияния патчей соответствовал оригиналу, чтобы предотвратить потенциальные проблемы, такие как конфликты при слиянии и т.д., хотя это и не является строгим требованием.

## Предложение изменений

Вышеуказанные усилия направлены на то, чтобы избежать создания ненужных различий в репозитории. Это означает, что **любые предлагаемые изменения, которые также применимы к Monero, должны быть отправлены в Monero.** В частности, пожалуйста, сначала отправьте запрос в Monero, а затем отправьте соответствующий пулл реквест в Aeon, выбрав команду cherry-pick, как описано выше. Если ваш пулл реквест для Monero будет объединен (merge), то и ваш соответствующий пулл реквест для Aeon будет также объединен (merge).

Если Вы хотите предложить некоторые изменения, характерные для Aeon и отличные от Monero, отправьте запрос непосредственно в Aeon и обоснуйте свои изменения, указав, как они *более* или *уникально* применимы к Aeon. При наличии хорошего обоснования можно преодолеть проблему увеличения эксплуатационных расходов, как описано выше.


# Вклад в развитие Monero

Хороший способ помочь - это тестирование и сообщение об ошибках. Смотрите раздел ["Как эффективно сообщать об ошибках" (автор Саймон Тейтам)](https://www.chiark.greenend.org.uk/~sgtatham/bugs.html), если вы хотите помочь нам. Тестирование имеет бесценное значение для того, чтобы сделать программное обеспечение надежным и удобным в использовании.


## Общие рекомендации

* Мы будем рады вашим комментариям.
* Если изменяется код, для которого существуют заголовки Doxygen, этот заголовок должен быть изменен для соответствия.
* Было бы неплохо проводить тестирование, если вы добавляете новую функциональность в код.

Патчи желательно отправлять через пулл реквест на Github. Если этого не удается сделать, исправления в формате "git format-patch" могут быть отправлены (опубликованы на fpaste.org с достаточно длительным таймаутом и отправкой ссылки в канал #monero-dev на irc.freenode.net).

Патчи должны быть самостоятельными. Хорошее эмпирическое правило - наличие одного патча на каждую отдельную проблему, функцию или логическое изменение. Кроме того, никаких других изменений, таких как случайные изменения пробела или реиндикация. Рекомендуется следовать стилю кода, конкретного участка кода который вы модифицируете. Должно быть сделано правильный сквошинг (squash) (например, если вы делаете патч для бага, потом более поздний патч для исправления бага - оба патча должны быть объединены).

Если вы внесли случайные, не связанные друг с другом изменения (либо потому, что вас раздражает текстовый редактор, либо по другим причинам), вы можете выбрать, какие изменения будут внесены в предстоящий коммит, используя `git add -p`, который проведет вас через все изменения и спросит, включать или нет это конкретное изменение. Это помогает создавать чистые патчи без каких-либо несущественных изменений. `git diff` покажет вам изменения в вашем дереве. `git diff --cached` покажет, что в данный момент находится на стадии коммита. Когда вы добавляете hunks с помощью команды `git add -p`, эти hunks будут "двигаться" от вывода `git diff` к `git diff --cached`, чтобы вы могли четко видеть, как будет выглядеть ваш коммит.

## Коммиты и пулл реквесты

Коммит сообщения должны быть краткими и осмысленными. Это означает что должна быть короткая строка названия темы, которая описывает патч, с необязательным длинным текстом ("телом"), который содержит подробности, документацию и т.д.

Отправляя запрос на пулл реквест на Github, убедитесь, что ваша ветвь была перемещена (rebase). Не должно быть никаких коммитов от других людей в вашей ветке, пожалуйста. Вас могут попросить сделать rebase, даже если есть конфликты, даже тривиально разрешимые.

Мы настоятельно рекомедуем использовать PGP-подпись для коммитов. Это должно объяснить, почему здесь содержится предыдущий пункт.


# [Кодекс поведения (22/C4.1)](http://rfc.zeromq.org/spec:22)

## Лицензия

Copyright (c) 2009-2015 Pieter Hintjens.
Copyright (c) 2017-2018 The Monero Project.

Данная Спецификация является свободным программным обеспечением; вы можете распространять и/или изменять ее на условиях GNU General Public License, опубликованной Фондом Свободного Программного Обеспечения (Free Software Foundation); либо версии №3 Лицензии, либо (по вашему выбору) любой более поздней версии.

Данная спецификация распространяется в надежде, что она будет полезной, но БЕЗ КАКОЙ ЛИБО ГАРАНТИИ; даже без подразумеваемой гарантии пригодности для продажи, или пригодности для другой цели. Подробнее см. в GNU General Public License.

Вы должны были получить копию GNU General Public License вместе с этой программой; если нет, см. <http://www.gnu.org/licenses>.

## Язык

Такие слова как "ДОЛЖНЫ", "НЕ ДОЛЖНЫ", "ОБЯЗАТЕЛЬНО", "РЕКОМЕНДУЕТСЯ", "МОГУТ" и "НЕОБЯЗАТЕЛЬНО" в этом документе должны толковаться, как это указано в RFC 2119.

Команда разработчиков Monero определяется в этом документе как следующие пользователи:
- fluffypony
- moneromooo
- hyc

## Цели

C4 предназначена для обеспечения оптимальной модели взаимодействия в проектах с открытым исходным кодом. У нее есть следующие цели:

- Максимально увеличить масштаб и разнообразие сообщества вокруг проекта, уменьшив разногласия между новыми участниками и создав масштабную модель участия с сильными положительными отзывами;

- Уменьшить степень зависимости от ключевых лиц путем разделения различных компетенций таким образом, чтобы при любой необходимой, была возможность к расширению круга полномочий;

- Позволить проекту развиваться быстрее и более точно, увеличивая разнообразие процесса принятия решений;

- Поддерживать естественный жизненный цикл проектных версий от экспериментальных до стабильных, обеспечивая безопасные эксперименты, быстрый отказ и изоляцию стабильного кода;

- Сократить внутреннюю сложность репозиториев проектов, тем самым облегчив участие спонсоров и уменьшив вероятность ошибок;

- Обеспечить коллективную собственность на проект, что повышает экономический стимул для доноров и снижает риск угона со стороны враждебно настроенных субъектов.


## Проектирование проекта

### Предварительные результаты

- В проекте ДОЛЖНА использоваться распределенная система контроля версий через git.
- Проект будет размещен на сайте github.com или эквивалентном ему сайте, далее именуемом "Платформа".
- В проекте должен использоваться трекер Платформы.
  - Пример НЕ для Гитхаба:
    - "Платформа" может представлять собой vanilla git repo и Trac, размещенные на том же компьютере/сети.
    - Трекером для отслеживания проблем будет Trac.
- В проекте ДОЛЖНЫ быть четко задокументированы руководящие принципы по стилистике кода.
- "Контрибьютор" - это человек, который хочет предоставить патч, представляющий собой набор обязательств, которые решают какую-то четко определенную проблему.
- "Мейнтейнер" - это человек, который объединяет (мерджит) патчи в проекте. Мейнтейнеры - это не разработчики; их работа состоит в том, чтобы обеспечивать соблюдение процесса.
- Контрибьюторы НЕ ДОЛЖНЫ иметь доступа к репозиторию, если они по совместительству не являются Мейнтейнерами.
- Мейнтейнеры ДОЛЖНЫ иметь постоянный доступ к репозиторию.
- Каждый человек, без различия или дискриминации, имеет равное право стать Контрибьютором в соответствии с условиями данного контракта.

### Лицензирование и право собственности

- Проект должен использовать лицензию, подобную лицензии BSD-3, GPLv3 или ее вариант (LGPL, AGPL) или MPLv2.
- Все вклады в исходный код проекта ("патчи") должны использовать ту же лицензию, что и проект.
- Все патчи принадлежат их авторам. Процедура передачи авторских прав не предусмотрена.
- Авторские права в этом проекте принадлежат коллективно всем его авторам.
- Каждый Контрибьютор несет ответственность за идентификацию самого себя в списке Контрибьюторов проекта.

### Требования к патчам

- Майнтейнеры ДОЛЖНЫ иметь аккаунт Платформы, и ДОЛЖНЫ использовать свои реальные имена или хорошо известные псевдонимы.
- Контрибьюторы ДОЛЖНЫ иметь учетную запись Платформы и могут использовать свои реальные имена или хорошо известные псевдонимы.
- Патч ДОЛЖЕН быть кратким и точным ответом на определенную и согласованную проблему.
- Патч ДОЛЖЕН соответствовать рекомендациям по стилистике кода проекта, если они определены.
- Патч ДОЛЖЕН соответствовать принципам "Эволюции публичных контрактов", описанным ниже.
- Патч НЕ ДОЛЖЕН включать нетривиальный код из других проектов, если только Контрибьютор не является первоначальным автором этого кода.
- Патч ДОЛЖЕН компилироваться чисто и пройти самостоятельную проверку, по крайней мере, на основной целевой платформе.
- Сообщение коммита патча ДОЛЖНО состоять из одной короткой (менее 50 символов) строки с кратким описанием изменения, за которой может следовать пустая строка, а затем более подробное описание.
- "Правильный патч" - это патч, удовлетворяющий вышеуказанным требованиям.

### Процесс разработки

- Изменения в проекте ДОЛЖНЫ регулироваться принципом точного выявления проблем и применения точных решений этих проблем.
- Чтобы запросить изменения, пользователь ДОЛЖЕН зарегистрировать проблему в системе отслеживания проблем на Платформе.
- Пользователь или Контрибьютор ДОЛЖЕН описать проблему с которой он сталкивается.
- Пользователь или Контрибьютор ДОЛЖЕН стремиться к точности в своих наблюдениях, и ценности их решения.
- Пользователи не ДОЛЖНЫ регистрировать запросы, идеи или предложения, не связанные с кодом Monero, кодом зависимостей Monero, или исследования Monero, которые уже успешно реализованы в Monero.
- Пользователи не ДОЛЖНЫ регистрировать никаких решений проблем (поддающихся проверке или гипотетических), которые не подтверждены документально и/или не доказаны, и/или не могут быть обоснованно доказаны.
- Таким образом, история релиза проекта ДОЛЖНА представлять собой список значимых проблем, которые регистрируются и решаются.
- Для работы над проблемой Контрибьютор клонирует себе репозиторий проекта, а затем работает над ним.
- Для отправки патча Контрибьютор ДОЛЖЕН создать пулл реквест на Платформе.
- Контрибьютор НЕ ДОЛЖЕН вносить изменения непосредственно в проект.
- Чтобы обсудить патч, люди могут прокомментировать пулл реквест, коммит или что-либо еще.
- Для принятия или отклонения патча Мейнтейнер ДОЛЖЕН использовать интерфейс Платформы.
- Мейнтейнеры НЕ ДОЛЖНЫ объединять (мерджить) свои патчи, за исключением исключительных случаев, таких как отсутствие реакции со стороны других мейнтейнеров в течение длительного периода времени (более 30 дней) или если это не определено группой мейнтейнеров Monero.
- Мейнтейнеры НЕ ДОЛЖНЫ делать оценочных суждений о правильности исправлений, если только мейнтейнер (что может случиться в редких случаях) не является разработчиком основного кода.
- Мейнтейнеры НЕ ДОЛЖНЫ объединять (мерджить) пулл реквесты менее чем за 168 часов (1 неделю), если только они не будут сочтены срочными, как минимум двумя участниками из команды Monero.
- Контрибьютор может пометить задание как "Готово" после того, как сделает пулл реквест.
- Пользователь, создавший обсуждение проблемы (issue), ДОЛЖЕН закрыть обсуждение после того, как установка патча прошла успешно.
- Мейнтейнеры ДОЛЖНЫ попросить внести улучшения в неправильные патчи и отклонять неправильные патчи, если Контрибьютор не реагирует конструктивно.
- Любой Контрибьютор, имеющий оценочные суждения о правильном патче, ДОЛЖЕН выразить их через свои собственные патчи.
- Мейнтейнеры могут вносить изменения в неофициальную документацию непосредственно в проект.

### Создание стабильных релизов

- Проект ДОЛЖЕН иметь одну ветвь "мастер" (master), которая всегда должна содержать последнюю незавершенную версию и всегда должна собираться.
- Проект НЕ ДОЛЖЕН использовать тематические ветви по каким-либо причинам. Личные форки могут использоваться в тематических ветках.
- Для создания стабильного репозитория кто-то ДОЛЖЕН склонировать (fork) репозиторий, а затем стать мейнтейнером этого репозитория.
- Клонирование проекта может осуществляться в одностороннем порядке и без согласования с мейнтейнерами проекта.
- Патч для стабилизации проекта, признанного "стабильным", ДОЛЖЕН сопровождаться воспроизводимым тестовым примером.

### Эволюция публичных контрактов

- Все публичные контракты (API или протоколы) должны быть задокументированы.
- Во всех публичных контрактах должны быть предусмотрены возможности для расширения и проведения экспериментов.
- Патч, вносящий изменения в стабильный публичный контракт, не должен нарушать работу существующих приложений, если только нет преобладающего консенсуса в отношении ценности такого патча.
- Патч, который вводит новые функции в публичный контракт, должен делать это с использованием новых имен.
- Старые имена следует систематически исключать из перечня путем маркировки новых имен как "экспериментальные" до тех пор, пока они не станут стабильными, а старые - как "устаревшие".
- Когда пройдет достаточно времени, старые устаревшие имена должны быть помечены как "устаревшие" и в конечном счете удалены.
- Старые имена не могут быть повторно использованы в новой функциональности.
- Когда старые имена удаляются, их реализация должна сопровождаться исключением, если они используются приложениями.

### Администрация проекта

- Основатели проекта должны выполнять функции Администраторов, для управления группой мейтейнеров проекта.
- Администраторы должны обеспечить собственную кадровую последовательность с течением времени, путем продвижения наиболее эффективных мейнтейнеров.
- Новый Контрибьютор, который сделает нужный патч, будет приглашен стать Мейнтейнером.
- Администраторы могут удалить тех Мейнтейнеров, которые неактивны в течение длительного периода времени, или которые неоднократно не выполняли свои обязательства.
- Администраторы должны блокировать "плохих актеров", которые вызывают стресс у других участников проекта. Это должно быть сделано после публичного обсуждения, с возможностью выступления всех сторон. Плохой актер - это человек, который постоянно игнорирует правила и культуру проекта, который излишне конфликтен или враждебен, или оскорбляет других участников проекта, и который не может самостоятельно исправить свое поведение, когда его об этом просят другие.
